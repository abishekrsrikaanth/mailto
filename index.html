<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mailto by abishekrsrikaanth</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Mailto</h1>
        <p>Laravel 4 Package that helps integrate with multiple Email Providers</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/abishekrsrikaanth/mailto" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/abishekrsrikaanth/mailto/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/abishekrsrikaanth/mailto/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h3>
<a name="laravel-4-package-to-integrate-with-multiple-cloud-email-providers" class="anchor" href="#laravel-4-package-to-integrate-with-multiple-cloud-email-providers"><span class="octicon octicon-link"></span></a>Laravel 4 Package to integrate with multiple Cloud Email Providers</h3>

<h4>
<a name="email-providers-supported" class="anchor" href="#email-providers-supported"><span class="octicon octicon-link"></span></a>Email Providers Supported</h4>

<ul>
<li><a href="#install">Installation</a></li>
<li>
<a href="https://www.mandrillapp.com">Mandrill</a> - (<a href="#mandrill">Documentation</a>)

<ul>
<li><a href="#send-mandrill">Sending Email using Mandrill</a></li>
<li><a href="#queue-mandrill">Queuing Email using Mandrill</a></li>
<li><a href="#send-mandrill-time">Sending Email at a given Time</a></li>
<li><a href="#send-mandrill-batch">Sending Email to a Batch of recipients</a></li>
<li><a href="#send-mandrill-batch-time">Sending Email to a Batch of recipients at a given time</a></li>
<li><a href="#credentials-mandrill">Passing the credentials dynamically for Mandrill</a></li>
<li><a href="#methods-mandrill">Methods</a></li>
</ul>
</li>
<li>
<a href="http://www.postmarkapp.com">PostmarkApp</a> - In Progress</li>
</ul><h3>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation<a name="install"></a>
</h3>

<p>Add abishekrsrikaanth/mailto as a requirement to composer.json:</p>

<pre><code>{
    ...
    "require": {
        ...
        "abishekrsrikaanth/mailto": "dev-master"
        ...
    },
}
</code></pre>

<p>Update composer:</p>

<pre><code>$ php composer.phar update
</code></pre>

<p>Add the provider to your app/config/app.php:</p>

<pre><code>'providers' =&gt; array(
    ...
    'Abishekrsrikaanth\Mailto\MailtoServiceProvider',
),
</code></pre>

<p>and the Facade info on app/config/app.php</p>

<pre><code>'aliases'   =&gt; array(
    ...
    'MailTo'      =&gt; 'Abishekrsrikaanth\Mailto\Facades\Mailto',
),
</code></pre>

<p>Publish Configuration</p>

<pre><code>php artisan config:publish abishekrsrikaanth/mailto
</code></pre>

<h3>
<a name="mandrill" class="anchor" href="#mandrill"><span class="octicon octicon-link"></span></a>Mandrill</h3>

<p><a name="mandrill"></a></p>

<h5>
<a name="sending-email-using-mandrill-" class="anchor" href="#sending-email-using-mandrill-"><span class="octicon octicon-link"></span></a>Sending Email using Mandrill <a name="send-mandrill"></a>
</h5>

<pre><code>$mandrill = MailTo::Mandrill();
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;send();
</code></pre>

<h5>
<a name="queuing-email-using-mandrill" class="anchor" href="#queuing-email-using-mandrill"><span class="octicon octicon-link"></span></a>Queuing Email using Mandrill<a name="queue-mandrill"></a>
</h5>

<pre><code>$mandrill = MailTo::Mandrill();
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;queue();
</code></pre>

<h4>
<a name="sending-email-at-a-given-time" class="anchor" href="#sending-email-at-a-given-time"><span class="octicon octicon-link"></span></a>Sending Email at a given Time<a name="send-mandrill-time"></a>
</h4>

<pre><code>$timestamp = new DateTime('+1 hour');

$mandrill = MailTo::Mandrill();
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;send($timestamp);
</code></pre>

<h4>
<a name="sending-email-to-a-batch-of-recipients" class="anchor" href="#sending-email-to-a-batch-of-recipients"><span class="octicon octicon-link"></span></a>Sending Email to a Batch of recipients<a name="send-mandrill-batch"></a>
</h4>

<pre><code>$mandrill = MailTo::Mandrill();
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;sendBatch();
</code></pre>

<h4>
<a name="sending-email-to-a-batch-of-recipients-at-a-given-time" class="anchor" href="#sending-email-to-a-batch-of-recipients-at-a-given-time"><span class="octicon octicon-link"></span></a>Sending Email to a Batch of recipients at a given time<a name="send-mandrill-batch-time"></a>
</h4>

<pre><code>$timestamp = new DateTime('+1 hour');

$mandrill = MailTo::Mandrill();
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;sendBatch($timestamp);
</code></pre>

<h4>
<a name="passing-the-credentials-dynamically-for-mandrill" class="anchor" href="#passing-the-credentials-dynamically-for-mandrill"><span class="octicon octicon-link"></span></a>Passing the credentials dynamically for Mandrill<a name="credentials-mandrill"></a>
</h4>

<pre><code>$mandrill = MailTo::Mandrill(array('apikey'=&gt;'MADRILL_API_KEY'));
$mandrill-&gt;addRecipient($email, $name)
         -&gt;setFrom($email, $name)
         -&gt;setHtml($html)
         -&gt;setText($text)
         -&gt;setSubject($subject)
         -&gt;send();
</code></pre>

<h4>
<a name="methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>Methods<a name="methods-mandrill"></a>
</h4>

<table>
<tr>
<th>Method</th>
<th>Explanation</th>
  </tr>
<tr>
<td>Mandrill($credentials)</td>
    <td>Constructor will initialize the API Key. If no credentials is passed, the credentials will be picked from the config file</td>
  </tr>
<tr>
<td>addRecipient($email,$name)</td>
    <td>Adds a Recipient for the Email. Multiple Recipients can be added by calling this function again</td>
  </tr>
<tr>
<td>setHtml($html)</td>
    <td>Sets the HTML Content for the Email</td>
  </tr>
<tr>
<td>setText($text)</td>
    <td>Sets the Text Content for the Email</td>
  </tr>
<tr>
<td>setSubject($subject)</td>
    <td>Sets the Subject of the Email</td>
  </tr>
<tr>
<td>setFrom($email, $name)</td>
    <td>Set the Information of the Sender. Calling this function again will override the information if already called</td>
  </tr>
<tr>
<td>setGlobalMergeVariables($key, $value)</td>
    <td>Set the Global merge variables to use for all recipients. Call this function multiple times to add multiple items.</td>
  </tr>
<tr>
<td>setMergeVariables($recipient, $key, $value)</td>
    <td>Set per-recipient merge variables, which override global merge variables with the same name. Call this function multiple times to add multiple items.</td>
  </tr>
<tr>
<td>setGlobalMetadata($key, $value)</td>
    <td>Set user metadata. Mandrill will store this metadata and make it available for retrieval. 
    In addition, you can select up to 10 metadata fields to index and make searchable using the Mandrill search api.</td>
  </tr>
<tr>
<td>setMetadata($recipient, $key, $value)</td>
    <td>Set Per-recipient metadata that will override the global values specified in the metadata parameter.</td>
  </tr>
<tr>
<td>setReplyTo($email)</td>
    <td>Sets the Reply To Email Address</td>
  </tr>
<tr>
<td>addAttachment($fileName, $mime, $content)</td>
    <td>Adds an Attachment to the Email. Can be called multiple times to add multiple attachments. The content has to be base64encoded</td>
  </tr>
<tr>
<td>addImage($fileName, $mime, $content)</td>
    <td>Adds an Image to the Email. Can be called multiple times to add multiple images.</td>
  </tr>
<tr>
<td>isImportant($value)</td>
    <td>Marking the Email whether or not this message is important, and should be delivered ahead of non-important messages. false by default</td>
  </tr>
<tr>
<td>shouldTrackOpens($value)</td>
    <td>Sets whether or not to turn on open tracking for the message. false by default</td>
  </tr>
<tr>
<td>shouldTrackClicks($value)</td>
    <td>Sets whether or not to turn on click tracking for the message. false by default</td>
  </tr>
<tr>
<td>shouldAutoText($value)</td>
    <td>Sets whether or not to automatically generate a text part for messages that are not given text. false by default</td>
  </tr>
<tr>
<td>shouldAutoHtml($value)</td>
    <td>Sets whether or not to automatically generate an HTML part for messages that are not given HTML. false by default</td>
  </tr>
<tr>
<td>shouldStripUrlQS($value)</td>
    <td>Sets whether or not to strip the query string from URLs when aggregating tracked URL data. false by default</td>
  </tr>
<tr>
<td>setInlineCSS($value)</td>
    <td>Sets whether or not to automatically inline all CSS styles provided in the message HTML - only for HTML documents less than 256KB in size. false by default</td>
  </tr>
<tr>
<td>setBccAddress($value)</td>
    <td>Sets an optional address to receive an exact copy of each recipient's email</td>
  </tr>
<tr>
<td>setTrackingDomain($value)</td>
    <td>Sets a custom domain to use for tracking opens and clicks instead of mandrillapp.com</td>
  </tr>
<tr>
<td>setSigningDomain($value)</td>
    <td>Sets a custom domain to use for SPF/DKIM signing instead of mandrill (for "via" or "on behalf of" in email clients)</td>
  </tr>
<tr>
<td>addTags($value)</td>
    <td>Sets a Tag to the Email. Can be called repeatedly to add multiple tags</td>
  </tr>
<tr>
<td>send($timestamp)</td>
    <td>Send a new transactional message through Mandrill. If multiple recipients have been added, they will be show on the `To` field of the Email
    If parameter timestamp is specified, then it marks a message to be sent later. If you specify a time in the past, the message will be sent immediately.
    An additional fee applies on Mandrill for scheduled email, and this feature is only available to accounts with a positive balance.
    </td>
  </tr>
<tr>
<td>queue()</td>
    <td>Enables background sending mode that is optimized for bulk sending.
    In async mode, messages/send will immediately return a status of "queued" for every recipient.
    To handle rejections when sending in async mode, set up a webhook for the 'reject' event.
    Defaults to false for messages with no more than 10 recipients;
    messages with more than 10 recipients are always sent asynchronously, regardless of the value of async.</td>
  </tr>
<tr>
<td>sendBatch($timestamp)</td>
    <td>Sends the email as a batch to Multiple Recipients.
    If parameter timestamp is specified, then it marks a message to be sent later. 
    If you specify a time in the past, the message will be sent immediately.
    An additional fee applies on Mandrill for scheduled email, and this feature is only available to accounts with a positive balance.
    </td>
  </tr>
</table><h5>
<a name="work-in-progress" class="anchor" href="#work-in-progress"><span class="octicon octicon-link"></span></a>Work in progress</h5>

<ul>
<li>PostmarkApp</li>
</ul><h5>
<a name="implementations-coming-soon" class="anchor" href="#implementations-coming-soon"><span class="octicon octicon-link"></span></a>Implementations coming soon</h5>

<ul>
<li>MailGun</li>
<li>ElasticMail</li>
<li>PostageApp</li>
<li>Mad Mimi</li>
<li>Alpha Mail</li>
</ul>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/abishekrsrikaanth">abishekrsrikaanth</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-42908632-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>